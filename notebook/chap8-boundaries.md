## 8. 경계

- 외부 코드(패키지 / 오픈소스 / 다른 팀이 개발한 컴포넌트 등)를 우리가 작성하는 코드에 깔끔하게 통합하기 위한 기법을 살펴보자. 

### 8.1 외부 코드 사용하기

- 패키지 / 프레임워크 제공자는 적용성을 최대한 넓히려 애쓴다.
- 사용자는 자신의 요구에 집중하는 인터페이스를 바란다.
- 여기서 시스템 경계에 문제가 생길 소지가 많다.
- 예시 : java.util.Map
    - clear() : 누구나 Map을 지울 권한이 있음
    - Map이 반환하는 Object를 올바른 유형을 변환할 책임은 **Map을 사용하는 클라이언트**에 있다.
    - Map과 같은 **경계 인터페이스**를 이용할 때는 이를 이용하는 클래스나 클래스 계열 밖으로 노출되지 않도록 주의하라.

### 8.2 경계 살피고 익히기

- 학습 테스트 : 우리쪽 코드를 작성해 외부 코드를 호출하는 대신 먼저 간단한 테스트 케이스를 작성해 외부 코드를 익힌다.
    - 학습 테스트는 투자하는 노력보다 얻는 성과가 더 크다.
    - 패키지가 예상대로 도는지 검증한다. 

### 8.5 아직 존재하지 않는 코드를 사용하기
- 아는 코드와 모르는 코드를 분리하는 경계도 경계의 한 유형이다.
- 아직 개발되지 않은 부분의 경계를 예측하고 설계하는것도 하나의 방법

### 8.6 깨끗한 경계
- 변경 : 소프트웨어 설계가 우수하다면 변경하는데 많은 투자와 재작업이 필요하지 않다.
- 경계에 위치한 코드는 깔끔히 분리하고, 테스트케이스를 작성해라.
- 통제가 불가능한 외부 코드에 의존하지 말고, 통제가 가능한 우리 코드에 의존해라.
- 외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리하자.
